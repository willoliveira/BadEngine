!function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=15)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(1);t.Sprite=class extends n.Component{constructor(e){super(),this.flip={x:!1,y:!1},this.init(e)}init(e){this.sprite={backgroundColor:"#FFFFFF",canvas:document.createElement("canvas"),sourceRect:{x:0,y:0,width:e.width,height:e.height},destRect:{x:0,y:0,width:e.width,height:e.height},image:e},this.sprite.canvas.getContext("2d").drawImage(e,0,0),this.sprite.canvas.width=e.width,this.sprite.canvas.height=e.height}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Component=class{Awake(){}OnEnable(){}Start(){}FixedUpdate(){}Update(){}OnRender(){}OnDisable(){}OnDestroy(){}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(1);t.GameComponent=class extends n.Component{constructor(e){super(),this.transform=e,this._components=[],this.addComponent(this.transform)}get components(){return this._components}addComponent(e){e.parent=this,this._components.push(e)}getComponent(e){return this._components.find(t=>t instanceof e)}getComponents(e){return this._components.filter(t=>t instanceof e)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(1);t.Transform=class extends n.Component{constructor(e,t,i,n){super(),this.x=e,this.y=t,this.width=i,this.height=n}setTranslate(){}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(1);class a extends n.Component{constructor(e){super(),this.FPS=60,a.instance=this,this.Init(e)}Init(e){this.canvas=document.getElementById(e),this.context2D=this.canvas.getContext("2d")}}t.GameEngine=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(2);class a extends n.GameComponent{constructor(e){super(e),a.instance=this}}t.Camera=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Resources={},t.LoadResources=function(e,i){let n=0;e.forEach(a=>{const{url:r,type:s}=a;switch(s){case"image":let o=new Image;o.src=r,o.addEventListener("load",()=>{n+=1,t.Resources[a.name]=Object.assign(a,{file:o}),n===e.length&&i(t.Resources)})}})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(1),a=i(0),r=i(6);t.Animation=class extends n.Component{constructor(){super(),this.currentFrame=0,this.currentFrameDelay=0,this._animationStates=[]}set animationStates(e){this._animationStates=e,this.currentState=this._animationStates.find(e=>e.default),this.currentState||(this.currentState=this._animationStates[0])}setState(e){this.currentState.name!==e&&(this.currentState=this._animationStates.find(t=>t.name===e),this.clearState(),this.setAnimationFrame())}clearState(){this.currentFrame=0,this.currentFrameDelay=0}setAnimationFrame(){this.spriteComponent.sprite.sourceRect=this.currentState.frames[this.currentFrame].rect,this.spriteComponent.sprite.image=r.Resources[this.currentState.frames[this.currentFrame].image].file}Awake(){let e=this.parent;this.spriteComponent=e.getComponent(a.Sprite),this.setAnimationFrame()}Update(){this._animationStates.length&&(this.currentState.frames[this.currentFrame].delay===this.currentFrameDelay&&(this.currentFrame+1>this.currentState.frames.length-1?this.currentFrame=0:this.currentFrame+=1,this.currentFrameDelay=0,this.setAnimationFrame()),this.currentFrameDelay+=1)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(2);t.CameraFollow=class extends n.GameComponent{constructor(e,t,i){super(e),this.transform=e,this.target=t,this.limitBorder=i,this.center=!0}FixedUpdate(){this.Follow()}Follow(){this.target&&(this.center&&(this.transform.x=this.target.transform.x-Math.floor(this.transform.width/2),this.transform.y=this.target.transform.y-Math.floor(this.transform.height/2)),this.limitBorder&&(this.transform.x<0&&(this.transform.x=0),this.transform.y<0&&(this.transform.y=0),this.transform.x+this.transform.width>this.limitBorder.width&&(this.transform.x=this.limitBorder.width-this.transform.width),this.transform.y+this.transform.height>this.limitBorder.height&&(this.transform.y=this.limitBorder.height-this.transform.height)))}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down",e[e.Left=-1]="Left",e[e.Right=1]="Right",e[e.Idle=0]="Idle"}(t.Direction||(t.Direction={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(2),a=i(3),r=i(0),s=i(5),o=i(4);t.TileMapLayer=class extends n.GameComponent{constructor(e,t,i){super(new a.Transform(0,0,1,1)),this.tileSize=e,this.mapLayers=t,this.blankImage=i,this.beforeX=0,this.currentX=0}Awake(){this.tileSet=this.getComponent(r.Sprite)}OnRender(){let e=Math.floor(s.Camera.instance.transform.height/64),t=Math.floor(s.Camera.instance.transform.width/64),i=s.Camera.instance.transform.x-Math.floor(s.Camera.instance.transform.x/this.tileSize)*this.tileSize,n=s.Camera.instance.transform.y-Math.floor(s.Camera.instance.transform.y/this.tileSize)*this.tileSize;for(let a=0;a<e+1;a++)for(let e=0;e<t+1;e++){let t,r,h,l,d,m=Math.floor(s.Camera.instance.transform.y/this.tileSize)+a,c=Math.floor(s.Camera.instance.transform.x/this.tileSize)+e;if(l=e*this.tileSize,d=a*this.tileSize,c<0||m<0||c>=this.mapLayers[0].length||m>=this.mapLayers.length)t=this.blankImage,r=0,h=0;else{let e=this.mapLayers[m][c];t=this.tileSet.sprite.image,r=(e-1)%(this.tileSet.sprite.image.width/this.tileSize),h=Math.floor((e-1)/(this.tileSet.sprite.image.width/this.tileSize))}o.GameEngine.instance.context2D.drawImage(t,r*this.tileSize,h*this.tileSize,this.tileSize,this.tileSize,e*this.tileSize-i,a*this.tileSize-n,this.tileSize,this.tileSize)}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(2),a=i(3),r=i(0),s=i(10);t.TileMap=class extends n.GameComponent{constructor(e,t,i,n,r){super(new a.Transform(0,0,832,832)),this.tileSet=e,this.tileSize=t,this.mapLayers=i,this.mapCollisions=n,this.blankImage=r}Awake(){for(let e=0;e<this.mapLayers.length;e++){let t=new s.TileMapLayer(this.tileSize,this.mapLayers[e],this.blankImage),i=new r.Sprite(this.tileSet);i.layer=e,i.orderInLayer=0,t.addComponent(i),t.Awake(),this.addComponent(t)}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e,t){this.x=e,this.y=t}add(e){this.x+=e.x,this.y+=e.y}sub(e){this.x-=e.x,this.y-=e.y}mult(e){this.x*=e,this.y*=e}div(e){this.x/=e,this.y/=e}mag(){return Math.sqrt(this.x*this.x+this.y*this.y)}normalize(){const e=this.mag();0!==e&&this.div(e)}limit(e){this.mag()>e&&(this.normalize(),this.mult(e))}fromAngle(e,t){return void 0===t&&(t=1),new n(t*Math.cos(e),t*Math.sin(e))}random2D(){return this.fromAngle(Math.random()*(2*Math.PI))}}t.Vector2=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=[],a=[];class r{constructor(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)}onKeyDown(e){const t=a.indexOf(e.code);t>-1&&a.splice(t,1),-1===n.indexOf(e.code)&&n.push(e.code)}onKeyUp(e){const t=a.indexOf(e.code);t>-1&&a.splice(t,1)}static GetKeyDown(e){return-1!==n.indexOf(e)}static GetKeyUp(e){return-1!==a.indexOf(e)}}t.KeyboardInput=r,t.default=new r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(9),a=i(2),r=i(0),s=i(5),o=i(8),h=i(4),l=i(7),d=i(13),m=i(12);t.Player=class extends a.GameComponent{constructor(e,t){super(e),this.transform=e,this.layer=t,this.velocity=new m.Vector2(5,5)}Awake(){this.spriteComponent=this.getComponent(r.Sprite),this.cFollow=s.Camera.instance.getComponent(o.CameraFollow),this.animation=this.getComponent(l.Animation)}FixedUpdate(){const e={x:n.Direction.Idle,y:n.Direction.Idle};d.KeyboardInput.GetKeyDown("ArrowLeft")?(this.animation.setState("run-left"),e.x=-1):d.KeyboardInput.GetKeyDown("ArrowRight")&&(this.animation.setState("run-right"),e.x=1),d.KeyboardInput.GetKeyDown("ArrowDown")?(this.animation.setState("run-down"),e.y=1):d.KeyboardInput.GetKeyDown("ArrowUp")&&(this.animation.setState("run-up"),e.y=-1),d.KeyboardInput.GetKeyUp("ArrowDown")?this.animation.setState("idle-down"):d.KeyboardInput.GetKeyUp("ArrowUp")&&this.animation.setState("idle-up"),d.KeyboardInput.GetKeyUp("ArrowRight")?this.animation.setState("idle-right"):d.KeyboardInput.GetKeyUp("ArrowLeft")&&this.animation.setState("idle-left"),this.transform.x+=e.x*this.velocity.x,this.transform.y+=e.y*this.velocity.y}Update(){this.spriteComponent.sprite.destRect={x:-1*s.Camera.instance.transform.x+this.cFollow.target.transform.x,y:-1*s.Camera.instance.transform.y+this.cFollow.target.transform.y,width:64,height:64}}OnRender(){let e=this.spriteComponent.sprite.sourceRect,t=this.spriteComponent.sprite.destRect;h.GameEngine.instance.context2D.drawImage(this.spriteComponent.sprite.image,e.x,e.y,e.width,e.height,t.x,t.y,t.width,t.height)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(14),a=i(9),r=i(5),s=i(3),o=i(8),h=i(4),l=i(0),d=i(11),m=i(6),c=i(7),y=new h.GameEngine("stage");let g,u,p=[[[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,3],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,2,1,3],[3,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,3,3,1,1,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]],[[4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4],[4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],[4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],[4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],[4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],[4,0,0,5,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],[4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],[4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],[4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],[4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],[4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],[4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],[4,4,4,0,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],[4,4,4,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]]],f=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],w=[],x=new r.Camera(new s.Transform(64,64,768,768));a.Direction.Idle,a.Direction.Idle;function k(){g.forEach(e=>{e.FixedUpdate()}),g.forEach(e=>{e.Update()}),g.filter(e=>{if(!e.getComponent)return!1;return e.getComponent(l.Sprite)}).sort((e,t)=>{let i,n;return i=e.getComponent(l.Sprite),n=t.getComponent(l.Sprite),i.layer>n.layer?1:i.layer<n.layer?-1:i.orderInLayer>n.orderInLayer?1:i.orderInLayer<n.orderInLayer?-1:void 0}).forEach(e=>{e.OnRender()})}y.canvas.width=x.transform.width,y.canvas.height=x.transform.height,m.LoadResources([{name:"blankImage",url:"/assets/blank.png",type:"image"},{name:"tileSet",url:"/assets/tiles.png",type:"image"},{name:"megaman",url:"/assets/megaman.png",type:"image"},{name:"link",url:"/assets/link/zelda-link.png",type:"image"}],e=>{new Image;(new Image).src="/assets/blank.png";let t=new d.TileMap(e.tileSet.file,64,p,f,e.blankImage.file);t.Awake(),u=new n.Player(new s.Transform(64,64,64,64),1);let i=new l.Sprite(e.blankImage.file);i.layer=0,i.orderInLayer=1;let a=new c.Animation;a.animationStates=[{default:!0,name:"idle-down",frames:[{rect:{y:0,x:0,width:102,height:110.5},image:"link",delay:100},{rect:{y:0,x:102,width:102,height:110.5},image:"link",delay:5},{rect:{y:0,x:204,width:102,height:110.5},image:"link",delay:5}]},{default:!1,name:"idle-left",frames:[{rect:{y:111.5,x:0,width:102,height:110.5},image:"link",delay:100},{rect:{y:111.5,x:102,width:102,height:110.5},image:"link",delay:5},{rect:{y:111.5,x:204,width:102,height:110.5},image:"link",delay:5}]},{default:!1,name:"idle-up",frames:[{rect:{y:221,x:0,width:102,height:110.5},image:"link",delay:100}]},{default:!1,name:"idle-right",frames:[{rect:{y:332.5,x:0,width:102,height:110.5},image:"link",delay:100},{rect:{y:332.5,x:98,width:102,height:110.5},image:"link",delay:5},{rect:{y:332.5,x:204,width:102,height:110.5},image:"link",delay:5}]},{default:!1,name:"run-down",frames:[{rect:{y:443,x:0,width:102,height:110.5},image:"link",delay:5},{rect:{y:443,x:102,width:102,height:110.5},image:"link",delay:5},{rect:{y:443,x:204,width:102,height:110.5},image:"link",delay:5},{rect:{y:443,x:306,width:102,height:110.5},image:"link",delay:5},{rect:{y:443,x:408,width:102,height:110.5},image:"link",delay:5},{rect:{y:443,x:510,width:102,height:110.5},image:"link",delay:5},{rect:{y:443,x:612,width:102,height:110.5},image:"link",delay:5},{rect:{y:443,x:714,width:102,height:110.5},image:"link",delay:5},{rect:{y:443,x:816,width:102,height:110.5},image:"link",delay:5},{rect:{y:443,x:918,width:102,height:110.5},image:"link",delay:5}]},{default:!1,name:"run-up",frames:[{rect:{y:664,x:0,width:102,height:110.5},image:"link",delay:5},{rect:{y:664,x:102,width:102,height:110.5},image:"link",delay:5},{rect:{y:664,x:204,width:102,height:110.5},image:"link",delay:5},{rect:{y:664,x:306,width:102,height:110.5},image:"link",delay:5},{rect:{y:664,x:408,width:102,height:110.5},image:"link",delay:5},{rect:{y:664,x:510,width:102,height:110.5},image:"link",delay:5},{rect:{y:664,x:612,width:102,height:110.5},image:"link",delay:5},{rect:{y:664,x:714,width:102,height:110.5},image:"link",delay:5},{rect:{y:664,x:816,width:102,height:110.5},image:"link",delay:5},{rect:{y:664,x:918,width:102,height:110.5},image:"link",delay:5}]},{default:!1,name:"run-left",frames:[{rect:{y:553.5,x:0,width:102,height:110.5},image:"link",delay:5},{rect:{y:553.5,x:102,width:102,height:110.5},image:"link",delay:5},{rect:{y:553.5,x:204,width:102,height:110.5},image:"link",delay:5},{rect:{y:553.5,x:306,width:102,height:110.5},image:"link",delay:5},{rect:{y:553.5,x:408,width:102,height:110.5},image:"link",delay:5},{rect:{y:553.5,x:510,width:102,height:110.5},image:"link",delay:5},{rect:{y:553.5,x:612,width:102,height:110.5},image:"link",delay:5},{rect:{y:553.5,x:714,width:102,height:110.5},image:"link",delay:5},{rect:{y:553.5,x:816,width:102,height:110.5},image:"link",delay:5},{rect:{y:553.5,x:918,width:102,height:110.5},image:"link",delay:5}]},{default:!1,name:"run-right",frames:[{rect:{y:773.5,x:0,width:102,height:110.5},image:"link",delay:5},{rect:{y:773.5,x:102,width:102,height:110.5},image:"link",delay:5},{rect:{y:773.5,x:204,width:102,height:110.5},image:"link",delay:5},{rect:{y:773.5,x:306,width:102,height:110.5},image:"link",delay:5},{rect:{y:773.5,x:408,width:102,height:110.5},image:"link",delay:5},{rect:{y:773.5,x:510,width:102,height:110.5},image:"link",delay:5},{rect:{y:773.5,x:612,width:102,height:110.5},image:"link",delay:5},{rect:{y:773.5,x:714,width:102,height:110.5},image:"link",delay:5},{rect:{y:773.5,x:816,width:102,height:110.5},image:"link",delay:5},{rect:{y:773.5,x:918,width:102,height:110.5},image:"link",delay:5}]}],u.addComponent(i),u.addComponent(a),u.Awake(),x.addComponent(new o.CameraFollow(x.transform,u)),x.Awake(),w.push(x,t,u),(g=w.reduce((e,t)=>(e.push(t),t.components&&t.components.length&&(e=e.concat(t.components)),e),[])).forEach(e=>{e.Awake()}),setInterval(k,1e3/y.FPS),document.getElementById("limitBorder").addEventListener("change",e=>{var t=x.getComponent(o.CameraFollow);t.limitBorder=e.target.checked?{width:64*p[0][0].length,height:64*p[0].length}:null})}),window.addEventListener("keydown",function(e){}),window.addEventListener("keyup",function(){}),window.addEventListener("",function(){})}]);
//# sourceMappingURL=bundle.js.map