!function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=15)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Component=class{Awake(){}OnEnable(){}Start(){}FixedUpdate(){}Update(){}OnRender(){}OnDisable(){}OnDestroy(){}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),a=i(5);t.Transform=class extends n.Component{constructor(){super(),this.scale=new a.Vector2(1,1),this.rotation=new a.Vector2(0,0),this.position=new a.Vector2(0,0)}setTranslate(){}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{}n.FPS=60,t.GameEngine=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),a=i(2),r=i(6),o=i(1);t.Sprite=class extends n.Component{constructor(e){super(),this.flip={x:!1,y:!1},this.init(e)}init(e){this.sprite={backgroundColor:"#FFFFFF",canvas:document.createElement("canvas"),sourceRect:{x:0,y:0,width:e.width,height:e.height},destRect:{x:0,y:0,width:e.width,height:e.height},image:e},this.sprite.canvas.getContext("2d").drawImage(e,0,0),this.sprite.canvas.width=e.width,this.sprite.canvas.height=e.height}Awake(){this.transform=this.parent.getComponent(o.Transform),this.gameComponentCamera=a.GameEngine.Camera.parent}Update(){this.sprite.destRect={x:-1*this.gameComponentCamera.transform.position.x+this.transform.position.x,y:-1*this.gameComponentCamera.transform.position.y+this.transform.position.y,width:64,height:64}}OnRender(){let e=this.sprite.sourceRect,t=this.sprite.destRect;r.Camera.context2D.drawImage(this.sprite.image,e.x,e.y,e.width,e.height,t.x,t.y,t.width,t.height)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0);t.GameComponent=class extends n.Component{constructor(e){super(),this.transform=e,this._components=[],this.addComponent(this.transform)}get components(){return this._components}addComponent(e){e.parent=this,this._components.push(e)}getComponent(e){return this._components.find(t=>t instanceof e)}getComponents(e){return this._components.filter(t=>t instanceof e)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{constructor(e,t){this.x=e,this.y=t}add(e){this.x+=e.x,this.y+=e.y}sub(e){this.x-=e.x,this.y-=e.y}mult(e){this.x*=e,this.y*=e}div(e){this.x/=e,this.y/=e}mag(){return Math.sqrt(this.x*this.x+this.y*this.y)}normalize(){const e=this.mag();0!==e&&this.div(e)}limit(e){this.mag()>e&&(this.normalize(),this.mult(e))}fromAngle(e,t){return void 0===t&&(t=1),new n(t*Math.cos(e),t*Math.sin(e))}random2D(){return this.fromAngle(Math.random()*(2*Math.PI))}}t.Vector2=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0);class a extends n.Component{constructor(e){super(),this.setStage(e)}get viewportRect(){return this._viewportRect}set viewportRect(e){this._viewportRect=e,a.canvas.width=e.width,a.canvas.height=e.height}setStage(e){e?(a.canvas=document.getElementById(e),a.context2D=a.canvas.getContext("2d")):console.warn("None canvas to renderer")}}t.Camera=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Resources={},t.LoadResources=function(e,i){let n=0;e.forEach(a=>{const{url:r,type:o}=a;switch(o){case"image":let s=new Image;s.src=r,s.addEventListener("load",()=>{n+=1,t.Resources[a.name]=Object.assign(a,{file:s}),n===e.length&&i(t.Resources)})}})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),a=i(3),r=i(7);t.Animation=class extends n.Component{constructor(){super(),this.currentFrame=0,this.currentFrameDelay=0,this._animationStates=[]}set animationStates(e){this._animationStates=e,this.currentState=this._animationStates.find(e=>e.default),this.currentState||(this.currentState=this._animationStates[0])}setState(e){this.currentState.name!==e&&(this.currentState=this._animationStates.find(t=>t.name===e),this.clearState(),this.setAnimationFrame())}clearState(){this.currentFrame=0,this.currentFrameDelay=0}setAnimationFrame(){this.spriteComponent.sprite.sourceRect=this.currentState.frames[this.currentFrame].rect,this.spriteComponent.sprite.image=r.Resources[this.currentState.frames[this.currentFrame].image].file}Awake(){let e=this.parent;this.spriteComponent=e.getComponent(a.Sprite),this.setAnimationFrame()}Update(){this._animationStates.length&&(this.currentState.frames[this.currentFrame].delay===this.currentFrameDelay&&(this.currentFrame+1>this.currentState.frames.length-1?this.currentFrame=0:this.currentFrame+=1,this.currentFrameDelay=0,this.setAnimationFrame()),this.currentFrameDelay+=1)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),a=i(1),r=i(2);t.CameraFollow=class extends n.Component{constructor(e,t){super(),this.target=e,this.limitBorder=t,this.center=!0}Awake(){this.transform=this.parent.getComponent(a.Transform),this.camera=r.GameEngine.Camera}FixedUpdate(){this.Follow()}Follow(){this.target&&(this.center&&(this.transform.position.x=this.target.transform.position.x-Math.floor(this.camera.viewportRect.width/2),this.transform.position.y=this.target.transform.position.y-Math.floor(this.camera.viewportRect.height/2)),this.limitBorder&&(this.transform.position.x<0&&(this.transform.position.x=0),this.transform.position.y<0&&(this.transform.position.y=0),this.transform.position.x+this.camera.viewportRect.width>this.limitBorder.width&&(this.transform.position.x=this.limitBorder.width-this.camera.viewportRect.width),this.transform.position.y+this.camera.viewportRect.height>this.limitBorder.height&&(this.transform.position.y=this.limitBorder.height-this.camera.viewportRect.height)))}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down",e[e.Left=-1]="Left",e[e.Right=1]="Right",e[e.Idle=0]="Idle"}(t.Direction||(t.Direction={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(4),a=i(1),r=i(3),o=i(6),s=i(2);t.TileMapLayer=class extends n.GameComponent{constructor(e,t,i){super(new a.Transform),this.tileSize=e,this.mapLayers=t,this.blankImage=i}Awake(){this.gameComponentCamera=s.GameEngine.Camera.parent,this.tileSet=this.getComponent(r.Sprite)}OnRender(){let e=Math.floor(s.GameEngine.Camera.viewportRect.height/64),t=Math.floor(s.GameEngine.Camera.viewportRect.width/64),i=this.gameComponentCamera.transform.position.x-Math.floor(this.gameComponentCamera.transform.position.x/this.tileSize)*this.tileSize,n=this.gameComponentCamera.transform.position.y-Math.floor(this.gameComponentCamera.transform.position.y/this.tileSize)*this.tileSize;for(let a=0;a<e+1;a++)for(let e=0;e<t+1;e++){let t,r,s,h,m,l=Math.floor(this.gameComponentCamera.transform.position.y/this.tileSize)+a,d=Math.floor(this.gameComponentCamera.transform.position.x/this.tileSize)+e;if(h=e*this.tileSize,m=a*this.tileSize,d<0||l<0||d>=this.mapLayers[0].length||l>=this.mapLayers.length)t=this.blankImage,r=0,s=0;else{let e=this.mapLayers[l][d];t=this.tileSet.sprite.image,r=(e-1)%(this.tileSet.sprite.image.width/this.tileSize),s=Math.floor((e-1)/(this.tileSet.sprite.image.width/this.tileSize))}o.Camera.context2D.drawImage(t,r*this.tileSize,s*this.tileSize,this.tileSize,this.tileSize,e*this.tileSize-i,a*this.tileSize-n,this.tileSize,this.tileSize)}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(4),a=i(1),r=i(3),o=i(11);t.TileMap=class extends n.GameComponent{constructor(e,t,i,n,r){super(new a.Transform),this.tileSet=e,this.tileSize=t,this.mapLayers=i,this.mapCollisions=n,this.blankImage=r}Awake(){for(let e=0;e<this.mapLayers.length;e++){let t=new o.TileMapLayer(this.tileSize,this.mapLayers[e],this.blankImage),i=new r.Sprite(this.tileSet);i.layer=e,i.orderInLayer=0,t.addComponent(i),t.Awake(),this.addComponent(t)}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=[];class a{constructor(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)}onKeyDown(e){-1===n.indexOf(e.code)&&n.push(e.code)}onKeyUp(e){const t=n.indexOf(e.code);t>-1&&n.splice(t,1)}static GetKeyDown(e){return-1!==n.indexOf(e)}}t.KeyboardInput=a,t.default=new a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(10),a=i(4),r=i(3),o=i(9),s=i(2),h=i(8),m=i(13),l=i(5);t.Player=class extends a.GameComponent{constructor(e,t){super(e),this.transform=e,this.layer=t,this.velocity=new l.Vector2(5,5)}Awake(){this.gameComponentCamera=s.GameEngine.Camera.parent,this.cameraFollow=this.gameComponentCamera.getComponent(o.CameraFollow),this.spriteComponent=this.getComponent(r.Sprite),this.animation=this.getComponent(h.Animation)}FixedUpdate(){const e={x:n.Direction.Idle,y:n.Direction.Idle};m.KeyboardInput.GetKeyDown("ArrowLeft")?(this.animation.setState("run-left"),e.x=-1):m.KeyboardInput.GetKeyDown("ArrowRight")&&(this.animation.setState("run-right"),e.x=1),m.KeyboardInput.GetKeyDown("ArrowDown")?(this.animation.setState("run-down"),e.y=1):m.KeyboardInput.GetKeyDown("ArrowUp")&&(this.animation.setState("run-up"),e.y=-1),this.transform.position.x+=e.x*this.velocity.x,this.transform.position.y+=e.y*this.velocity.y}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(14),a=i(10),r=i(6),o=i(1),s=i(4),h=i(9),m=i(2),l=i(3),d=i(12),c=i(7),g=i(8),y=i(5);let p,u=[[[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,3],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,2,1,3],[3,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3],[3,3,3,1,1,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]],[[4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4],[4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],[4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],[4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],[4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],[4,0,0,5,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],[4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],[4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],[4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],[4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],[4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],[4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4],[4,4,4,0,5,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],[4,4,4,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3]]],w=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],f=[];const x=new s.GameComponent(new o.Transform);let C,k=new r.Camera("stage");k.viewportRect={x:0,y:0,width:768,height:768},x.addComponent(k),m.GameEngine.Camera=k;let S={x:a.Direction.Idle,y:a.Direction.Idle};function v(){p.forEach(e=>{e.FixedUpdate()}),p.forEach(e=>{e.Update()}),p.filter(e=>{if(e instanceof l.Sprite)return!0;if(!e.getComponent)return!1;return e.getComponent(l.Sprite)}).sort((e,t)=>{let i,n;return i=e instanceof l.Sprite?e:e.getComponent(l.Sprite),n=t instanceof l.Sprite?t:t.getComponent(l.Sprite),i.layer>n.layer?1:i.layer<n.layer?-1:i.orderInLayer>n.orderInLayer?1:i.orderInLayer<n.orderInLayer?-1:void 0}).forEach(e=>{e.OnRender()})}c.LoadResources([{name:"blankImage",url:"assets/blank.png",type:"image"},{name:"tileSet",url:"assets/tiles.png",type:"image"},{name:"megaman",url:"assets/megaman.png",type:"image"},{name:"link",url:"assets/Link/zelda-link.png",type:"image"}],e=>{new Image;(new Image).src="/assets/blank.png";let t=new d.TileMap(e.tileSet.file,64,u,w,e.blankImage.file);t.Awake(),(C=new n.Player(new o.Transform,1)).transform.position=new y.Vector2(64,64);let i=new l.Sprite(e.blankImage.file);i.layer=0,i.orderInLayer=1;let a=new g.Animation;a.animationStates=[{default:!0,name:"idle-down",frames:[{rect:{y:0,x:0,width:102,height:110.5},image:"link",delay:100},{rect:{y:0,x:102,width:102,height:110.5},image:"link",delay:5},{rect:{y:0,x:204,width:102,height:110.5},image:"link",delay:5}]},{default:!1,name:"idle-left",frames:[{rect:{y:111.5,x:0,width:102,height:110.5},image:"link",delay:100},{rect:{y:111.5,x:102,width:102,height:110.5},image:"link",delay:5},{rect:{y:111.5,x:204,width:102,height:110.5},image:"link",delay:5}]},{default:!1,name:"idle-up",frames:[{rect:{y:221,x:0,width:102,height:110.5},image:"link",delay:100}]},{default:!1,name:"idle-right",frames:[{rect:{y:332.5,x:0,width:102,height:110.5},image:"link",delay:100},{rect:{y:332.5,x:98,width:102,height:110.5},image:"link",delay:5},{rect:{y:332.5,x:204,width:102,height:110.5},image:"link",delay:5}]},{default:!1,name:"run-down",frames:[{rect:{y:443,x:0,width:102,height:110.5},image:"link",delay:5},{rect:{y:443,x:102,width:102,height:110.5},image:"link",delay:5},{rect:{y:443,x:204,width:102,height:110.5},image:"link",delay:5},{rect:{y:443,x:306,width:102,height:110.5},image:"link",delay:5},{rect:{y:443,x:408,width:102,height:110.5},image:"link",delay:5},{rect:{y:443,x:510,width:102,height:110.5},image:"link",delay:5},{rect:{y:443,x:612,width:102,height:110.5},image:"link",delay:5},{rect:{y:443,x:714,width:102,height:110.5},image:"link",delay:5},{rect:{y:443,x:816,width:102,height:110.5},image:"link",delay:5},{rect:{y:443,x:918,width:102,height:110.5},image:"link",delay:5}]},{default:!1,name:"run-up",frames:[{rect:{y:664,x:0,width:102,height:110.5},image:"link",delay:5},{rect:{y:664,x:102,width:102,height:110.5},image:"link",delay:5},{rect:{y:664,x:204,width:102,height:110.5},image:"link",delay:5},{rect:{y:664,x:306,width:102,height:110.5},image:"link",delay:5},{rect:{y:664,x:408,width:102,height:110.5},image:"link",delay:5},{rect:{y:664,x:510,width:102,height:110.5},image:"link",delay:5},{rect:{y:664,x:612,width:102,height:110.5},image:"link",delay:5},{rect:{y:664,x:714,width:102,height:110.5},image:"link",delay:5},{rect:{y:664,x:816,width:102,height:110.5},image:"link",delay:5},{rect:{y:664,x:918,width:102,height:110.5},image:"link",delay:5}]},{default:!1,name:"run-left",frames:[{rect:{y:553.5,x:0,width:102,height:110.5},image:"link",delay:5},{rect:{y:553.5,x:102,width:102,height:110.5},image:"link",delay:5},{rect:{y:553.5,x:204,width:102,height:110.5},image:"link",delay:5},{rect:{y:553.5,x:306,width:102,height:110.5},image:"link",delay:5},{rect:{y:553.5,x:408,width:102,height:110.5},image:"link",delay:5},{rect:{y:553.5,x:510,width:102,height:110.5},image:"link",delay:5},{rect:{y:553.5,x:612,width:102,height:110.5},image:"link",delay:5},{rect:{y:553.5,x:714,width:102,height:110.5},image:"link",delay:5},{rect:{y:553.5,x:816,width:102,height:110.5},image:"link",delay:5},{rect:{y:553.5,x:918,width:102,height:110.5},image:"link",delay:5}]},{default:!1,name:"run-right",frames:[{rect:{y:773.5,x:0,width:102,height:110.5},image:"link",delay:5},{rect:{y:773.5,x:102,width:102,height:110.5},image:"link",delay:5},{rect:{y:773.5,x:204,width:102,height:110.5},image:"link",delay:5},{rect:{y:773.5,x:306,width:102,height:110.5},image:"link",delay:5},{rect:{y:773.5,x:408,width:102,height:110.5},image:"link",delay:5},{rect:{y:773.5,x:510,width:102,height:110.5},image:"link",delay:5},{rect:{y:773.5,x:612,width:102,height:110.5},image:"link",delay:5},{rect:{y:773.5,x:714,width:102,height:110.5},image:"link",delay:5},{rect:{y:773.5,x:816,width:102,height:110.5},image:"link",delay:5},{rect:{y:773.5,x:918,width:102,height:110.5},image:"link",delay:5}]}],C.addComponent(i),C.addComponent(a);const r=new s.GameComponent(new o.Transform);r.transform.position=new y.Vector2(256,256);const c=new l.Sprite(e.megaman.file);c.layer=0,c.orderInLayer=2;let k=new g.Animation;k.animationStates=[{default:!1,name:"idle",frames:[{rect:{y:0,x:0,width:36,height:36},image:"megaman",delay:7},{rect:{y:0,x:36,width:36,height:36},image:"megaman",delay:7},{rect:{y:0,x:72,width:36,height:36},image:"megaman",delay:7},{rect:{y:0,x:108,width:36,height:36},image:"megaman",delay:7}]},{default:!0,name:"run",frames:[{rect:{y:38,x:0,width:36,height:36},image:"megaman",delay:7},{rect:{y:38,x:36,width:36,height:36},image:"megaman",delay:7},{rect:{y:38,x:72,width:36,height:36},image:"megaman",delay:7},{rect:{y:38,x:108,width:36,height:36},image:"megaman",delay:7},{rect:{y:38,x:144,width:36,height:36},image:"megaman",delay:7},{rect:{y:38,x:180,width:36,height:36},image:"megaman",delay:7},{rect:{y:38,x:216,width:36,height:36},image:"megaman",delay:7}]}],r.addComponent(c),r.addComponent(k),x.addComponent(new h.CameraFollow(C)),f.push(x,t,C,r),(p=f.reduce((e,t)=>(e.push(t),t.components&&t.components.length&&(e=e.concat(t.components)),e),[])).forEach(e=>{e.Awake()}),setInterval(v,1e3/m.GameEngine.FPS),document.getElementById("limitBorder").addEventListener("change",e=>{var t=x.getComponent(h.CameraFollow);t.limitBorder=e.target.checked?{width:64*u[0][0].length,height:64*u[0].length}:null})}),window.addEventListener("keydown",function(e){S={x:a.Direction.Idle,y:a.Direction.Idle},C.getComponent(g.Animation);const t=C.getComponent(l.Sprite);37===e.keyCode&&(S.x=-1,t.flip.x=!0),39===e.keyCode&&(S.x=1,t.flip.x=!1),40===e.keyCode&&(S.y=1),38===e.keyCode&&(S.y=-1)}),window.addEventListener("keyup",function(){const e=C.getComponent(g.Animation);C.getComponent(l.Sprite),0===S.x?"run-down"===e.currentState.name?e.setState("idle-down"):"run-up"===e.currentState.name&&e.setState("idle-up"):0===S.y&&("run-right"===e.currentState.name?e.setState("idle-right"):"run-left"===e.currentState.name&&e.setState("idle-left")),S={x:a.Direction.Idle,y:a.Direction.Idle}})}]);
//# sourceMappingURL=bundle.js.map