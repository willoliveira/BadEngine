{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/_base/Component.ts","webpack:///./src/_base/Transform.ts","webpack:///./src/Engine/GameEngine.ts","webpack:///./src/Sprite/Sprite.ts","webpack:///./src/_base/GameComponent.ts","webpack:///./src/_base/Math/Vector2.ts","webpack:///./src/Camera/Camera.ts","webpack:///./src/_base/Resources.ts","webpack:///./src/Animation/Animation.ts","webpack:///./src/Camera/CameraFollow.ts","webpack:///./src/_base/interface/position.interface.ts","webpack:///./src/Tile/TileMapLayer.ts","webpack:///./src/Tile/TileMap.ts","webpack:///./src/Events/KeyboardInput.ts","webpack:///./src/Character/Player.ts","webpack:///./src/index.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Component","[object Object]","Component_1","Vector2_1","Transform","super","this","scale","Vector2","rotation","position","GameEngine","FPS","GameEngine_1","Camera_1","Transform_1","Sprite","image","flip","x","y","init","sprite","backgroundColor","canvas","document","createElement","sourceRect","width","height","destRect","getContext","drawImage","transform","parent","getComponent","gameComponentCamera","Camera","srcRect","context2D","GameComponent","_components","addComponent","components","component","push","type","find","filter","v","Math","sqrt","mag","div","max","normalize","mult","angle","length","cos","sin","fromAngle","random","PI","stage","setStage","viewportRect","_viewportRect","stageId","getElementById","console","warn","Resources","LoadResources","resources","callback","filesLoaded","forEach","resource","url","Image","src","addEventListener","assign","file","Sprite_1","Resources_1","Animation","currentFrame","currentFrameDelay","_animationStates","animationStates","currentState","state","default","stateName","clearState","setAnimationFrame","spriteComponent","frames","rect","delay","CameraFollow","target","limitBorder","center","camera","Follow","floor","Direction","GameComponent_1","TileMapLayer","tileSize","mapLayers","blankImage","tileSet","rowLen","colLen","sumPosX","sumPosY","row","col","imageSrc","widthSrc","heightSrc","widthDist","heightDist","posY","posX","tileNum","TileMapLayer_1","TileMap","mapCollisions","layer","tileMapLayer","tileMapLayerSprite","orderInLayer","Awake","KeyboardInputs","KeyboardInput","window","onKeyDown","onKeyUp","evt","indexOf","code","inputKeyboardIndex","splice","key","position_interface_1","CameraFollow_1","Animation_1","KeyboardInput_1","Player","velocity","cameraFollow","animation","dir","Idle","GetKeyDown","setState","Player_1","TileMap_1","Hierarchy","cameraGameObject","player","GameLoop","FixedUpdate","Update","sort","a","b","aSprite","bSprite","OnRender","files","tileMap","spritePlayer","animationPlayer","npc","npcSpriteSheet","megaman","npcAnimation","reduce","before","current","concat","setInterval","event","cFollow","checked","playerSprite","keyCode","playerAnimation"],"mappings":"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,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,MAGrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,KAIpZmB,IACF,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IACrZ,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EA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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n","import { Transform } from './Transform';\r\nimport { GameComponent } from './GameComponent';\r\n\r\nexport class Component {\r\n\r\n\tpublic parent: GameComponent;\r\n\r\n\tAwake() { }\r\n\r\n\tOnEnable() { }\r\n\r\n\tStart() { }\r\n\r\n\r\n\tFixedUpdate() { }\r\n\r\n\tUpdate() { }\r\n\r\n\r\n\tOnRender() { }\r\n\r\n\r\n\tOnDisable() { }\r\n\r\n\tOnDestroy() { }\r\n}","import { Component } from \"./Component\";\r\nimport { Vector2 } from \"./Math/Vector2\";\r\n\r\nexport class Transform extends Component{\r\n\r\n\tpublic scale: Vector2 = new Vector2(1, 1);\r\n\tpublic rotation: Vector2 = new Vector2(0, 0);\r\n\tpublic position: Vector2 = new Vector2(0, 0);\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\t//TODO: Implementar ainda\r\n\tpublic setTranslate() { }\r\n}","import { Component } from \"../_base/Component\";\r\nimport { Camera } from \"../Camera/Camera\";\r\n\r\n/**\r\n* TODO: super provisório, depois investir um tempo pra chegar em um lance legal aqui\r\n*/\r\nexport class GameEngine {\r\n\r\n\tpublic static FPS: number = 60;\r\n\r\n\tpublic static Camera: Camera;\r\n\r\n\r\n\r\n}","import { Component } from '../_base/Component';\r\nimport { GameEngine } from '../Engine/GameEngine';\r\nimport { Camera } from '../Camera/Camera';\r\nimport { Transform } from '../_base/Transform';\r\nimport { GameComponent } from '../_base/GameComponent';\r\n\r\n//pensar em um nome\r\ninterface SpriteProperty {\r\n\tbackgroundColor: string; //não usado ainda\r\n\tcanvas: HTMLCanvasElement,\r\n\tsourceRect: { x: number, y: number, width: number, height: number },\r\n\tdestRect: { x: number, y: number, width: number, height: number },\r\n\timage?: any\r\n}\r\n\r\nexport class Sprite extends Component {\r\n\r\n\ttransform: any;\r\n\tgameComponentCamera: any;\r\n\t// Implementar ainda\r\n\tpublic flip: { x: boolean, y: boolean } = {\r\n\t\tx: false,\r\n\t\ty: false\r\n\t};\r\n\tpublic layer: number;\r\n\tpublic orderInLayer: number;\r\n\tpublic sprite: SpriteProperty;\r\n\r\n\tconstructor(image?: any) {\r\n\t\tsuper();\r\n\r\n\t\tthis.init(image);\r\n\t}\r\n\r\n\tinit(image?: any) {\r\n\t\tvar ctx: CanvasRenderingContext2D;\r\n\r\n\t\tthis.sprite = {\r\n\t\t\tbackgroundColor: \"#FFFFFF\",\r\n\t\t\tcanvas: <HTMLCanvasElement> document.createElement(\"canvas\"),\r\n\t\t\tsourceRect: { x: 0, y: 0, width: image.width, height: image.height },\r\n\t\t\tdestRect: { x: 0, y: 0, width: image.width, height: image.height },\r\n\t\t\timage\r\n\t\t}\r\n\r\n\t\tctx = this.sprite.canvas.getContext(\"2d\") as CanvasRenderingContext2D;\r\n\t\tctx.drawImage(image, 0, 0);\r\n\r\n\t\tthis.sprite.canvas.width = image.width;\r\n\t\tthis.sprite.canvas.height = image.height;\r\n\t}\r\n\r\n\tAwake() {\r\n\t\tthis.transform = this.parent.getComponent(Transform) as Transform;\r\n\t\tthis.gameComponentCamera = GameEngine.Camera.parent as GameComponent;\r\n\t}\r\n\r\n\t//TODO: Talvez tentar dar uma melhorada\r\n\tUpdate() {\r\n\t\tthis.sprite.destRect = {\r\n\t\t\tx: ((this.gameComponentCamera.transform.position.x * -1) + this.transform.position.x),\r\n\t\t\ty: ((this.gameComponentCamera.transform.position.y * -1)  + this.transform.position.y),\r\n\t\t\twidth: 64,\r\n\t\t\theight: 64\r\n\t\t}\r\n\t}\r\n\r\n\tOnRender() {\r\n\t\tlet srcRect = this.sprite.sourceRect;\r\n\t\tlet destRect = this.sprite.destRect;\r\n\r\n\t\tCamera.context2D.drawImage(\r\n\t\t\tthis.sprite.image,\r\n\r\n\t\t\tsrcRect.x, srcRect.y,\r\n\t\t\tsrcRect.width, srcRect.height,\r\n\r\n\t\t\tdestRect.x, destRect.y,\r\n\t\t\tdestRect.width, destRect.height\r\n\t\t);\r\n\t}\r\n}","import { Component } from \"./Component\";\r\nimport { Transform } from \"./Transform\";\r\n\r\nexport class GameComponent extends Component {\r\n\r\n\tprivate _components: Array<GameComponent|Component> = [ ]; // TODO: Tentar assim por enquanto\r\n\r\n\tconstructor(public transform: Transform) {\r\n\t\tsuper();\r\n\r\n\t\tthis.addComponent(this.transform as Component);\r\n\t}\r\n\r\n\tget components() {\r\n\t\treturn this._components;\r\n\t}\r\n\r\n\tpublic addComponent(component: GameComponent|Component) {\r\n\t\tcomponent.parent = this;\r\n\t\tthis._components.push(component);\r\n\t}\r\n\r\n\tpublic getComponent(type: any) {\r\n\t\treturn this._components.find((c:any) => c instanceof type);\r\n\t}\r\n\r\n\tpublic getComponents(type: any) {\r\n\t\treturn this._components.filter((c:any) => c instanceof type);\r\n\t}\r\n}","export class Vector2 {\r\n\r\n\tconstructor(public x: number, public y: number) { }\r\n\r\n\tpublic add(v: Vector2) {\r\n\t\tthis.x += v.x;\r\n\t\tthis.y += v.y;\r\n\t}\r\n\r\n\tpublic sub(v: Vector2) {\r\n\t\tthis.x -= v.x;\r\n\t\tthis.y -= v.y;\r\n\t}\r\n\r\n\tpublic mult(m: number) {\r\n\t\tthis.x *= m;\r\n\t\tthis.y *= m;\r\n\t}\r\n\r\n\tpublic div(m: number) {\r\n\t\tthis.x /= m;\r\n\t\tthis.y /= m;\r\n\t}\r\n\r\n\tpublic mag() {\r\n\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\r\n\t}\r\n\r\n\tpublic normalize() {\r\n\t\tconst m: number = this.mag();\r\n\t\tif (m !== 0) {\r\n\t\t\tthis.div(m);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic limit(max: number) {\r\n\t\tif (this.mag() > max) {\r\n\t\t\tthis.normalize();\r\n\t\t\tthis.mult(max);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic fromAngle(angle: number, length?: number) {\r\n\t\tif (typeof length === 'undefined') {\r\n\t\t\tlength = 1;\r\n\t\t}\r\n\t\treturn new Vector2(length * Math.cos(angle), length * Math.sin(angle));\r\n\t};\r\n\r\n\tpublic random2D() {\r\n\t\treturn this.fromAngle(Math.random() * (Math.PI * 2));\r\n\t};\r\n}","import { Player } from \"../Character/Player\";\r\nimport { Transform } from \"../_base/Transform\";\r\nimport { Rect } from \"../_base/model/Rect\";\r\nimport { Component } from \"../_base/Component\";\r\n\r\nexport class Camera extends Component {\r\n\r\n\tprivate _viewportRect: Rect\r\n\r\n\tpublic static canvas: HTMLCanvasElement;\r\n\tpublic static context2D: CanvasRenderingContext2D;\r\n\r\n\tconstructor(stage?: string) {\r\n\t\tsuper();\r\n\r\n\t\tthis.setStage(stage);\r\n\t}\r\n\r\n\tget viewportRect(): Rect {\r\n\t\treturn this._viewportRect;\r\n\t}\r\n\r\n\tset viewportRect(v: Rect) {\r\n\t\tthis._viewportRect = v;\r\n\r\n\t\tCamera.canvas.width =  v.width;\r\n\t\tCamera.canvas.height =  v.height;\r\n\t}\r\n\r\n\tprivate setStage(stageId: string) {\r\n\t\tif (!stageId) {\r\n\t\t\tconsole.warn(\"None canvas to renderer\")\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tCamera.canvas = <HTMLCanvasElement> document.getElementById(stageId);\r\n\t\tCamera.context2D = Camera.canvas.getContext(\"2d\");\r\n\t}\r\n}","export const Resources:{ [key:string]: any } = { };\r\n\r\nexport interface ResourceItem {\r\n\turl: string,\r\n\tname: string,\r\n\ttype: 'image' | 'json' | 'xml'\r\n}\r\n\r\n// TODO: Depois refazer com Promise ou com rxJS\r\nexport function LoadResources(resources: Array<ResourceItem>, callback: any) {\r\n\tlet filesLoaded = 0;\r\n\tresources.forEach((resource) => {\r\n\t\tconst { url, type } = resource;\r\n\r\n\t\tswitch(type) {\r\n\t\t\tcase \"image\":\r\n\t\t\t\tlet image = new Image();\r\n\t\t\t\timage.src = url;\r\n\t\t\t\timage.addEventListener('load', () => {\r\n\t\t\t\t\tfilesLoaded += 1;\r\n\r\n\t\t\t\t\tResources[resource.name] = Object.assign(resource, { file: image });\r\n\r\n\t\t\t\t\tif (filesLoaded === resources.length) {\r\n\t\t\t\t\t\tcallback(Resources);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t});\r\n}\r\n","import { Component } from \"../_base/Component\";\r\nimport { GameComponent } from \"../_base/GameComponent\";\r\nimport { Sprite } from \"../Sprite/Sprite\";\r\nimport { GameEngine } from \"../Engine/GameEngine\";\r\nimport { Resources } from \"../_base/Resources\";\r\n\r\nexport interface AnimationState {\r\n\tdefault: boolean,\r\n\tname: string,\r\n\tframes: Array<AnimationStateFrame>\r\n}\r\n\r\nexport interface AnimationStateFrame {\r\n\trect: {\r\n\t\ty: number,\r\n\t\tx: number,\r\n\t\twidth: number,\r\n\t\theight: number\r\n\t}\r\n\tdelay: number,\r\n\timage: string\r\n}\r\n\r\nexport class Animation extends Component {\r\n\r\n\tprivate currentFrame = 0;\r\n\tprivate currentFrameDelay = 0;\r\n\tprivate _animationStates: Array<AnimationState> = [ ];\r\n\tprivate spriteComponent: Sprite;\r\n\r\n\tpublic currentState: AnimationState;\r\n\tpublic animationController: any; // TODO: Fazer um controlador de transição de animações, penso em algo parecido com unity\r\n\r\n\r\n\tset animationStates(value: Array<AnimationState>) {\r\n\t\tthis._animationStates = value;\r\n\r\n\t\tthis.currentState = this._animationStates.find(state => state.default);\r\n\t\t// TODO: Aqui não será necessário mais tarde, obrigar sempre ter uma animação default\r\n\t\tif (!this.currentState) this.currentState = this._animationStates[0];\r\n\r\n\t}\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tsetState(stateName: string) {\r\n\t\tif (this.currentState.name === stateName) return;\r\n\t\tthis.currentState = this._animationStates.find((state: AnimationState) => state.name === stateName);\r\n\r\n\t\tthis.clearState();\r\n\t\tthis.setAnimationFrame();\r\n\t}\r\n\r\n\tprivate clearState() {\r\n\t\tthis.currentFrame = 0;\r\n\t\tthis.currentFrameDelay = 0;\r\n\t}\r\n\r\n\tsetAnimationFrame() {\r\n\t\tthis.spriteComponent.sprite.sourceRect = this.currentState.frames[this.currentFrame].rect;\r\n\t\tthis.spriteComponent.sprite.image = Resources[this.currentState.frames[this.currentFrame].image].file;\r\n\t}\r\n\r\n\tAwake() {\r\n\t\tlet parent = this.parent as GameComponent;\r\n\t\tthis.spriteComponent = parent.getComponent(Sprite) as Sprite;\r\n\r\n\t\tthis.setAnimationFrame();\r\n\t}\r\n\r\n\tUpdate() {\r\n\t\tif (!this._animationStates.length) return;\r\n\t\tif (this.currentState.frames[this.currentFrame].delay === this.currentFrameDelay) {\r\n\t\t\tif (this.currentFrame + 1 > this.currentState.frames.length - 1) {\r\n\t\t\t\tthis.currentFrame = 0;\r\n\t\t\t} else {\r\n\t\t\t\tthis.currentFrame += 1\r\n\t\t\t}\r\n\t\t\tthis.currentFrameDelay = 0;\r\n\r\n\t\t\tthis.setAnimationFrame();\r\n\t\t}\r\n\r\n\t\tthis.currentFrameDelay += 1;\r\n\t}\r\n}","import { Component } from \"../_base/Component\";\r\nimport { GameComponent } from \"../_base/GameComponent\";\r\nimport { Transform } from \"../_base/Transform\";\r\nimport { Camera } from \"./Camera\";\r\nimport { GameEngine } from \"../Engine/GameEngine\";\r\n\r\nexport class CameraFollow extends Component {\r\n\r\n\tprivate transform: Transform;\r\n\tprivate camera: Camera;\r\n\r\n\tpublic center: boolean = true;\r\n\r\n\tconstructor(\r\n\t\tpublic target?: GameComponent,\r\n\t\tpublic limitBorder?: { width: number, height: number }\r\n\t) {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tAwake() {\r\n\t\tthis.transform = this.parent.getComponent(Transform) as Transform;\r\n\t\tthis.camera = GameEngine.Camera;\r\n\t}\r\n\r\n\tFixedUpdate() {\r\n\t\tthis.Follow();\r\n\t}\r\n\r\n\tFollow() {\r\n\t\tif (!this.target) return;\r\n\r\n\t\tif (this.center) {\r\n\t\t\tthis.transform.position.x = this.target.transform.position.x - Math.floor(this.camera.viewportRect.width / 2);\r\n\t\t\tthis.transform.position.y = this.target.transform.position.y - Math.floor(this.camera.viewportRect.height / 2);\r\n\t\t}\r\n\r\n\t\tif (this.limitBorder) {\r\n\t\t\tif (this.transform.position.x < 0) this.transform.position.x = 0;\r\n\t\t\tif (this.transform.position.y < 0) this.transform.position.y = 0;\r\n\r\n\t\t\tif (this.transform.position.x + this.camera.viewportRect.width > this.limitBorder.width) {\r\n\t\t\t\tthis.transform.position.x = this.limitBorder.width - this.camera.viewportRect.width;\r\n\t\t\t}\r\n\t\t\tif (this.transform.position.y + this.camera.viewportRect.height > this.limitBorder.height) {\r\n\t\t\t\tthis.transform.position.y = this.limitBorder.height - this.camera.viewportRect.height;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}","export enum Direction {\r\n    Up = -1,\r\n    Down = 1,\r\n    Left = -1,\r\n\tRight = 1,\r\n\tIdle = 0\r\n}\r\n\r\nexport interface Position {\r\n\tx: number;\r\n\ty: number;\r\n}\r\n\r\nexport interface MovementDirection {\r\n\tx: Direction.Idle | Direction.Left | Direction.Right ,\r\n\ty: Direction.Idle | Direction.Up | Direction.Down\r\n}","import { Component } from \"../_base/Component\";\r\nimport { GameComponent } from \"../_base/GameComponent\";\r\nimport { Transform } from \"../_base/Transform\";\r\nimport { Sprite } from \"../Sprite/Sprite\";\r\nimport { Camera } from \"../Camera/Camera\";\r\nimport { GameEngine } from \"../Engine/GameEngine\";\r\n\r\n/**\r\n* Seria um unico mapa de Tile\r\n*/\r\nexport class TileMapLayer extends GameComponent {\r\n\r\n\tprivate gameComponentCamera: GameComponent;\r\n\r\n\ttileSet: Sprite;\r\n\r\n\tconstructor(\r\n\t\tpublic tileSize: number,\r\n\t\tpublic mapLayers: Array<Array<number>>,\r\n\t\tpublic blankImage: any // TODO: ficou ruim isso, depois rever\r\n\t) {\r\n\t\tsuper(new Transform());\r\n\t}\r\n\r\n\r\n\tAwake() {\r\n\t\tthis.gameComponentCamera = GameEngine.Camera.parent as GameComponent\r\n\r\n\t\tthis.tileSet = this.getComponent(Sprite) as Sprite;\r\n\t}\r\n\r\n\t/**\r\n\t * Trocar esse lance pra outra coisa...\r\n\t * Fazer só o sprite fazer render...\r\n\t */\r\n\tOnRender() {\r\n\t\tlet rowLen = Math.floor(GameEngine.Camera.viewportRect.height/64);\r\n\t\tlet colLen = Math.floor(GameEngine.Camera.viewportRect.width/64);\r\n\r\n\t\tlet sumPosX = this.gameComponentCamera.transform.position.x - (Math.floor(this.gameComponentCamera.transform.position.x/this.tileSize) * this.tileSize);\r\n\t\tlet sumPosY = this.gameComponentCamera.transform.position.y - (Math.floor(this.gameComponentCamera.transform.position.y/this.tileSize) * this.tileSize);\r\n\r\n\t\tfor (let row = 0; row < rowLen + 1; row++) {\r\n\t\t\tfor (let col = 0; col < colLen + 1; col++) {\r\n\t\t\t\tlet posY = Math.floor(this.gameComponentCamera.transform.position.y/this.tileSize) + row;\r\n\t\t\t\tlet posX = Math.floor(this.gameComponentCamera.transform.position.x/this.tileSize) + col;\r\n\r\n\t\t\t\tlet imageSrc, widthSrc, heightSrc, widthDist, heightDist;\r\n\r\n\t\t\t\twidthDist = col * this.tileSize;\r\n\t\t\t\theightDist = row * this.tileSize;\r\n\t\t\t\t// TODO: Depois ver de pintar com hexa ao inves de imagem\r\n\t\t\t\tif (posX < 0 || posY < 0 || posX >= this.mapLayers[0].length || posY >= this.mapLayers.length) {\r\n\t\t\t\t\timageSrc = this.blankImage;\r\n\t\t\t\t\twidthSrc = 0;\r\n\t\t\t\t\theightSrc = 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet tileNum = this.mapLayers[posY][posX];\r\n\t\t\t\t\timageSrc = this.tileSet.sprite.image;\r\n\t\t\t\t\twidthSrc = ((tileNum - 1) % (this.tileSet.sprite.image.width / this.tileSize));\r\n\t\t\t\t\theightSrc = Math.floor((tileNum- 1) / (this.tileSet.sprite.image.width / this.tileSize));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tCamera.context2D.drawImage(\r\n\t\t\t\t\timageSrc,\r\n\t\t\t\t\t// na imagem\r\n\t\t\t\t\twidthSrc * this.tileSize, heightSrc * this.tileSize,\r\n\t\t\t\t\tthis.tileSize, this.tileSize,\r\n\r\n\t\t\t\t\t//no canvas\r\n\t\t\t\t\t(col  * this.tileSize) - sumPosX, (row * this.tileSize) - sumPosY,\r\n\t\t\t\t\tthis.tileSize, this.tileSize\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}","import { GameComponent } from \"../_base/GameComponent\";\r\nimport { Transform } from \"../_base/Transform\";\r\nimport { Camera } from \"../Camera/Camera\";\r\nimport { Sprite } from \"../Sprite/Sprite\";\r\nimport { GameEngine } from \"../Engine/GameEngine\";\r\nimport { TileMapLayer } from \"./TileMapLayer\";\r\n\r\n/*\r\n * Isso irá ter uma coleção mapa de Tiles.\r\n * A cada layer, a ideia que seja um componente de Tile\r\n */\r\nexport class TileMap extends GameComponent {\r\n\r\n\tpublic transform: Transform;\r\n\tprivate camera: Camera;\r\n\r\n\tconstructor(\r\n\t\tpublic tileSet: any,\r\n\t\tpublic tileSize: number,\r\n\t\tpublic mapLayers: Array<Array<Array<number>>>,\r\n\t\tpublic mapCollisions: Array<Array<number>>,\r\n\t\tpublic blankImage: any // TODO: ficou ruim isso, depois rever\r\n\t) {\r\n\t\tsuper(new Transform());\r\n\t}\r\n\r\n\tAwake() {\r\n\t\tfor (let layer = 0; layer < this.mapLayers.length; layer++) {\r\n\t\t\t// TODO: Talvez, fazer um esquema de filho no Hierarchy aqui, e não adicionar como componente\r\n\t\t\tlet tileMapLayer: TileMapLayer = new TileMapLayer(this.tileSize, this.mapLayers[layer], this.blankImage);\r\n\t\t\tlet tileMapLayerSprite: Sprite = new Sprite(this.tileSet);\r\n\t\t\ttileMapLayerSprite.layer = layer;\r\n\t\t\ttileMapLayerSprite.orderInLayer = 0;\r\n\r\n\t\t\ttileMapLayer.addComponent(tileMapLayerSprite);\r\n\t\t\ttileMapLayer.Awake();\r\n\r\n\t\t\tthis.addComponent(tileMapLayer);\r\n\t\t}\r\n\t}\r\n}","\r\nconst KeyboardInputs: Array<String> = [ ];\r\n\r\nexport class KeyboardInput {\r\n\r\n\tconstructor() {\r\n\t\twindow.addEventListener(\"keydown\", this.onKeyDown);\r\n\t\twindow.addEventListener(\"keyup\", this.onKeyUp);\r\n\t}\r\n\r\n\tonKeyDown(evt: KeyboardEvent) {\r\n\t\tif (KeyboardInputs.indexOf(evt.code) === -1) {\r\n\t\t\tKeyboardInputs.push(evt.code);\r\n\t\t}\r\n\t}\r\n\r\n\tonKeyUp(evt: KeyboardEvent) {\r\n\t\tconst inputKeyboardIndex = KeyboardInputs.indexOf(evt.code);\r\n\t\tif (inputKeyboardIndex > -1) {\r\n\t\t\tKeyboardInputs.splice(inputKeyboardIndex, 1);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic GetKeyDown(key: String): Boolean {\r\n\t\treturn KeyboardInputs.indexOf(key) !== -1;\r\n\t}\r\n}\r\n\r\nexport default new KeyboardInput();","import { Position, Direction } from \"../_base/interface/position.interface\";\r\nimport { Transform } from \"../_base/Transform\";\r\nimport { GameComponent } from \"../_base/GameComponent\";\r\nimport { Sprite } from \"../Sprite/Sprite\";\r\nimport { Camera } from \"../Camera/Camera\";\r\nimport { CameraFollow } from \"../Camera/CameraFollow\";\r\nimport { GameEngine } from \"../Engine/GameEngine\";\r\nimport { Animation, AnimationState } from \"../Animation/Animation\";\r\nimport { KeyboardInput } from \"../Events/KeyboardInput\";\r\nimport { Vector2 } from \"../_base/Math/Vector2\";\r\n\r\nexport class Player extends GameComponent {\r\n\r\n\tprivate velocity: Vector2 = new Vector2(5, 5);\r\n\r\n\tprivate spriteComponent: Sprite;\r\n\tprivate gameComponentCamera: GameComponent;\r\n\tprivate cameraFollow: CameraFollow;\r\n\tprivate animation: Animation;\r\n\r\n\tconstructor(public transform: Transform, public layer: number) {\r\n\t\tsuper(transform);\r\n\t}\r\n\r\n\tAwake() {\r\n\t\tthis.gameComponentCamera = GameEngine.Camera.parent as GameComponent\r\n\t\tthis.cameraFollow = this.gameComponentCamera.getComponent(CameraFollow) as CameraFollow;\r\n\t\tthis.spriteComponent = this.getComponent(Sprite) as Sprite;\r\n\t\tthis.animation = this.getComponent(Animation) as Animation;\r\n\t}\r\n\r\n\tFixedUpdate() {\r\n\t\tconst dir = { x: Direction.Idle, y: Direction.Idle };\r\n\r\n\t\tif (KeyboardInput.GetKeyDown(\"ArrowLeft\")) {\r\n\t\t\tthis.animation.setState(\"run-left\");\r\n\t\t\tdir.x = -1;\r\n\t\t}\r\n\t\telse if (KeyboardInput.GetKeyDown(\"ArrowRight\")) {\r\n\t\t\tthis.animation.setState(\"run-right\");\r\n\t\t\tdir.x = 1;\r\n\t\t}\r\n\r\n\t\tif (KeyboardInput.GetKeyDown(\"ArrowDown\")) {\r\n\t\t\tthis.animation.setState(\"run-down\");\r\n\t\t\tdir.y = 1;\r\n\t\t}\r\n\t\telse if (KeyboardInput.GetKeyDown(\"ArrowUp\")) {\r\n\t\t\tthis.animation.setState(\"run-up\");\r\n\t\t\tdir.y = -1;\r\n\t\t}\r\n\r\n\t\t// if (KeyboardInput.GetKeyUp(\"ArrowDown\")) {\r\n\t\t// \tthis.animation.setState(\"idle-down\");\r\n\t\t// } else if (KeyboardInput.GetKeyUp(\"ArrowUp\")) {\r\n\t\t// \tthis.animation.setState(\"idle-up\");\r\n\t\t// }\r\n\r\n\t\t// if (KeyboardInput.GetKeyUp(\"ArrowRight\")) {\r\n\t\t// \tthis.animation.setState(\"idle-right\");\r\n\t\t// }\r\n\t\t// else if (KeyboardInput.GetKeyUp(\"ArrowLeft\")) {\r\n\t\t// \tthis.animation.setState(\"idle-left\");\r\n\t\t// }\r\n\r\n\t\tthis.transform.position.x += dir.x * this.velocity.x;\r\n\t\tthis.transform.position.y += dir.y * this.velocity.y;\r\n\t}\r\n}","/**\r\n* Essa inicialização não ficara assim, depois pensar no start\r\n*\r\n* Conforme for evoluindo a estrutura com os componentes, vou alterando aqui o padrão\r\n*/\r\n\r\nimport { Player } from \"./Character/Player\";\r\nimport { MovementDirection, Direction, Position } from \"./_base/interface/position.interface\";\r\nimport { Camera } from \"./Camera/Camera\";\r\nimport { Transform } from \"./_base/Transform\";\r\nimport { GameComponent } from \"./_base/GameComponent\";\r\nimport { CameraFollow } from \"./Camera/CameraFollow\";\r\nimport { Component } from \"./_base/Component\";\r\nimport { GameEngine } from \"./Engine/GameEngine\";\r\nimport { Sprite } from \"./Sprite/Sprite\";\r\nimport { TileMap } from \"./Tile/TileMap\";\r\nimport { ResourceItem, LoadResources } from \"./_base/Resources\";\r\nimport { Animation, AnimationState } from \"./Animation/Animation\";\r\nimport KeyboardInput from './Events/KeyboardInput'\r\nimport { Vector2 } from \"./_base/Math/Vector2\";\r\nimport { Rect } from \"./_base/model/Rect\";\r\n\r\nconst Resources: Array<ResourceItem> = [\r\n\t{ name: \"blankImage\", url: \"assets/blank.png\", type: 'image' },\r\n\t{ name: \"tileSet\", url: \"assets/tiles.png\", type: 'image' },\r\n\t{ name: \"megaman\", url: \"assets/megaman.png\", type: 'image' },\r\n\t{ name: \"link\", url: \"assets/Link/zelda-link.png\", type: 'image' },\r\n];\r\n\r\nlet tileSize = 64;\r\nlet mapLayers = [\r\n\t[\r\n\t\t[3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3],\r\n\t\t[3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3],\r\n\t\t[3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 3],\r\n\t\t[3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3],\r\n\t\t[3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3],\r\n\t\t[3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3],\r\n\t\t[3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3],\r\n\t\t[3, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3],\r\n\t\t[3, 1, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3],\r\n\t\t[3, 1, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3],\r\n\t\t[3, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 2, 1, 3],\r\n\t\t[3, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3],\r\n\t\t[3, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3],\r\n\t\t[3, 3, 3, 1, 1, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3]\r\n\t],\r\n\t[\r\n\t\t[4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4],\r\n\t\t[4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4],\r\n\t\t[4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4],\r\n\t\t[4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4],\r\n\t\t[4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4],\r\n\t\t[4, 0, 0, 5, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4],\r\n\t\t[4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4],\r\n\t\t[4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4],\r\n\t\t[4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4],\r\n\t\t[4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4],\r\n\t\t[4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4],\r\n\t\t[4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4],\r\n\t\t[4, 4, 4, 0, 5, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4],\r\n\t\t[4, 4, 4, 0, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3]\r\n\t]\r\n]\r\n\r\nlet mapCollisions = [\r\n\t[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\r\n\t[1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],\r\n\t[1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],\r\n\t[1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],\r\n\t[1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],\r\n\t[1, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],\r\n\t[1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],\r\n\t[1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],\r\n\t[1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],\r\n\t[1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],\r\n\t[1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],\r\n\t[1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],\r\n\t[1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],\r\n\t[1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]\r\n]\r\n\r\nlet gameEngine: GameEngine;\r\n\r\nlet Hierarchy: Array<GameComponent> = [];\r\nlet components: Array<GameComponent>;\r\n\r\n/// CAMERA\r\nconst cameraGameObject: GameComponent = new GameComponent(new Transform());\r\nlet camera: Camera = new Camera(\"stage\");\r\ncamera.viewportRect = { x: 0, y: 0, width: 12 * tileSize, height: 12 * tileSize };\r\ncameraGameObject.addComponent(camera);\r\n\r\nGameEngine.Camera = camera;\r\n\r\nlet player: Player;\r\nlet velocity = 5;\r\nlet dir: MovementDirection = { x: Direction.Idle, y: Direction.Idle };\r\n\r\n//Carrega os resources do game\r\nLoadResources(Resources, (files: any) => {\r\n\tlet image = new Image();\r\n\tlet imageBlank = new Image();\r\n\timageBlank.src = \"/assets/blank.png\"\r\n\r\n\t// TODO:  MUDAR PARA CHILDREN\r\n\tlet tileMap: TileMap = new TileMap(files.tileSet.file, 64, mapLayers, mapCollisions, files.blankImage.file);\r\n\ttileMap.Awake();\r\n\r\n\r\n\t// Player\r\n\tplayer = new Player(new Transform(), 1);\r\n\tplayer.transform.position = new Vector2(tileSize, tileSize);\r\n\tlet spritePlayer: Sprite = new Sprite(files.blankImage.file);\r\n\tspritePlayer.layer = 0;\r\n\tspritePlayer.orderInLayer = 1;\r\n\r\n\tlet animationPlayer: Animation = new Animation();\r\n\tlet states: Array<AnimationState> = [\r\n\t\t{\r\n\t\t\tdefault: true,\r\n\t\t\tname: \"idle-down\",\r\n\t\t\tframes: [\r\n\t\t\t\t{ rect: { y: 0, x: 0, width: 102, height: 110.5 }, image: 'link', delay: 100 },\r\n\t\t\t\t{ rect: { y: 0, x: 102, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 0, x: 204, width: 102, height: 110.5 }, image: 'link', delay: 5 }\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tdefault: false,\r\n\t\t\tname: \"idle-left\",\r\n\t\t\tframes: [\r\n\t\t\t\t{ rect: { y: 111.5, x: 0, width: 102, height: 110.5 }, image: 'link', delay: 100 },\r\n\t\t\t\t{ rect: { y: 111.5, x: 102, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 111.5, x: 204, width: 102, height: 110.5 }, image: 'link', delay: 5 }\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tdefault: false,\r\n\t\t\tname: \"idle-up\",\r\n\t\t\tframes: [\r\n\t\t\t\t{ rect: { y: 221, x: 0, width: 102, height: 110.5 }, image: 'link', delay: 100 },\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tdefault: false,\r\n\t\t\tname: \"idle-right\",\r\n\t\t\tframes: [\r\n\t\t\t\t{ rect: { y: 332.5, x: 0, width: 102, height: 110.5 }, image: 'link', delay: 100 },\r\n\t\t\t\t{ rect: { y: 332.5, x: 98, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 332.5, x: 204, width: 102, height: 110.5 }, image: 'link', delay: 5 }\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tdefault: false,\r\n\t\t\tname: \"run-down\",\r\n\t\t\tframes: [\r\n\t\t\t\t{ rect: { y: 443, x: 0, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 443, x: 102, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 443, x: 204, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 443, x: 306, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 443, x: 408, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 443, x: 510, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 443, x: 612, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 443, x: 714, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 443, x: 816, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 443, x: 918, width: 102, height: 110.5 }, image: 'link', delay: 5 }\r\n\t\t\t]\r\n\t\t}, {\r\n\t\t\tdefault: false,\r\n\t\t\tname: \"run-up\",\r\n\t\t\tframes: [\r\n\t\t\t\t{ rect: { y: 664, x: 0, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 664, x: 102, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 664, x: 204, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 664, x: 306, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 664, x: 408, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 664, x: 510, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 664, x: 612, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 664, x: 714, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 664, x: 816, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 664, x: 918, width: 102, height: 110.5 }, image: 'link', delay: 5 }\r\n\t\t\t]\r\n\t\t}, {\r\n\t\t\tdefault: false,\r\n\t\t\tname: \"run-left\",\r\n\t\t\tframes: [\r\n\t\t\t\t{ rect: { y: 553.5, x: 0, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 553.5, x: 102, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 553.5, x: 204, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 553.5, x: 306, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 553.5, x: 408, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 553.5, x: 510, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 553.5, x: 612, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 553.5, x: 714, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 553.5, x: 816, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 553.5, x: 918, width: 102, height: 110.5 }, image: 'link', delay: 5 }\r\n\t\t\t]\r\n\t\t}, {\r\n\t\t\tdefault: false,\r\n\t\t\tname: \"run-right\",\r\n\t\t\tframes: [\r\n\t\t\t\t{ rect: { y: 773.5, x: 0, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 773.5, x: 102, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 773.5, x: 204, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 773.5, x: 306, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 773.5, x: 408, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 773.5, x: 510, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 773.5, x: 612, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 773.5, x: 714, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 773.5, x: 816, width: 102, height: 110.5 }, image: 'link', delay: 5 },\r\n\t\t\t\t{ rect: { y: 773.5, x: 918, width: 102, height: 110.5 }, image: 'link', delay: 5 }\r\n\t\t\t]\r\n\t\t}\r\n\t];\r\n\tanimationPlayer.animationStates = states;\r\n\r\n\tplayer.addComponent(spritePlayer);\r\n\tplayer.addComponent(animationPlayer);\r\n\t// player.Awake();\r\n\t// Player\r\n\r\n\t//NPC\r\n\tconst npc = new GameComponent(new Transform());\r\n\tnpc.transform.position = new Vector2(256, 256);\r\n\r\n\tconst npcSpriteSheet: Sprite = new Sprite(files.megaman.file);\r\n\tnpcSpriteSheet.layer = 0;\r\n\tnpcSpriteSheet.orderInLayer = 2;\r\n\r\n\tlet npcAnimation: Animation = new Animation();\r\n\tconst aStatesMegaman: Array<AnimationState> = [\r\n\t\t{\r\n\t\t\tdefault: false,\r\n\t\t\tname: \"idle\",\r\n\t\t\tframes: [\r\n\t\t\t\t{ rect: { y: 0, x: 0, width: 36, height: 36 }, image: 'megaman', delay: 7 },\r\n\t\t\t\t{ rect: { y: 0, x: 36, width: 36, height: 36 }, image: 'megaman', delay: 7 },\r\n\t\t\t\t{ rect: { y: 0, x: 72, width: 36, height: 36 }, image: 'megaman', delay: 7 },\r\n\t\t\t\t{ rect: { y: 0, x: 108, width: 36, height: 36 }, image: 'megaman', delay: 7 }\r\n\t\t\t]\r\n\t\t}, {\r\n\t\t\tdefault: true,\r\n\t\t\tname: \"run\",\r\n\t\t\tframes: [\r\n\t\t\t\t{ rect: { y: 38, x: 0, width: 36, height: 36 }, image: 'megaman', delay: 7 },\r\n\t\t\t\t{ rect: { y: 38, x: 36, width: 36, height: 36 }, image: 'megaman', delay: 7 },\r\n\t\t\t\t{ rect: { y: 38, x: 72, width: 36, height: 36 }, image: 'megaman', delay: 7 },\r\n\t\t\t\t{ rect: { y: 38, x: 108, width: 36, height: 36 }, image: 'megaman', delay: 7 },\r\n\t\t\t\t{ rect: { y: 38, x: 144, width: 36, height: 36 }, image: 'megaman', delay: 7 },\r\n\t\t\t\t{ rect: { y: 38, x: 180, width: 36, height: 36 }, image: 'megaman', delay: 7 },\r\n\t\t\t\t{ rect: { y: 38, x: 216, width: 36, height: 36 }, image: 'megaman', delay: 7 }\r\n\t\t\t]\r\n\t\t}\r\n\t];\r\n\tnpcAnimation.animationStates = aStatesMegaman;\r\n\r\n\tnpc.addComponent(npcSpriteSheet);\r\n\tnpc.addComponent(npcAnimation);\r\n\t//NPC\r\n\r\n\t//Adicionando o target na CameraFollow\r\n\tcameraGameObject.addComponent(new CameraFollow(player));\r\n\t// cameraGameObject.Awake();\r\n\r\n\t//Hierarchy: seguindo a linha do unity, depois posso mudar o nome\r\n\tHierarchy.push(cameraGameObject, tileMap, player, npc);\r\n\r\n\tcomponents = Hierarchy.reduce((before, current:GameComponent) => {\r\n\t\tbefore.push(current);\r\n\t\tif (current.components && current.components.length) {\r\n\t\t\tbefore = before.concat(current.components);\r\n\t\t}\r\n\t\treturn before;\r\n\t}, []);\r\n\r\n\tcomponents.forEach((c:GameComponent) => { c.Awake(); });\t// Testar isso também\r\n\r\n\tinit();\r\n})\r\n\r\nfunction init() {\r\n\tsetInterval(GameLoop, 1000 / GameEngine.FPS);\r\n\r\n\tdocument.getElementById(\"limitBorder\").addEventListener(\"change\", (event:any) => {\r\n\t\tvar cFollow: CameraFollow = cameraGameObject.getComponent(CameraFollow) as CameraFollow;\r\n\t\tcFollow.limitBorder = event.target.checked ? { width: mapLayers[0][0].length * 64, height: mapLayers[0].length * 64 } : null;\r\n\t});\r\n}\r\n\r\nfunction GameLoop() {\r\n\r\n\t// const gamePads = navigator.getGamepads()\r\n\t// if (gamePads.length) {\r\n\t// \t/**\r\n\t// \t * Axes Left Horizontal (negativo esquerda, positivo direita),\r\n\t// \t * Axes Left Vertical (negativo esquerda, positivo direita),\r\n\t// \t * Axes Right Horizontal (negativo esquerda, positivo direita),\r\n\t// \t * Axes Right Vertical (negativo esquerda, positivo direita),\r\n\t// \t * axes [0, 0, 0, 0]\r\n\t// \t */\r\n\t// \tdir.x = gamePads[0].axes[0];\r\n\t// \tdir.y = gamePads[0].axes[1];\r\n\t// }\r\n\t// onMoveTo(dir);\r\n\r\n\tcomponents.forEach((c:GameComponent) => { c.FixedUpdate(); });\r\n\tcomponents.forEach((c:GameComponent) => { c.Update(); });\r\n\r\n\t/**\r\n\t * Super provisório, só pra mostrar como será depois\r\n\t * O render ele será só de elementos que possuem Sprite e/ou Interface\r\n\t * A renderização será nessa ordem\r\n\t *\r\n\t * - Layer\r\n\t * \t\t-> Order\r\n\t */\r\n\tcomponents\r\n\t\t.filter((c:GameComponent) => {\r\n\t\t\tif (c instanceof Sprite) return true;\r\n\t\t\tif (!c.getComponent) return false;\r\n\t\t\tlet sprite: Sprite = c.getComponent(Sprite) as Sprite;\r\n\t\t\treturn sprite;\r\n\t\t})\r\n\t\t.sort((a, b) => {\r\n\t\t\tlet aSprite, bSprite: Sprite;\r\n\r\n\t\t\taSprite = a instanceof Sprite ? a : a.getComponent(Sprite) as Sprite;\r\n\t\t\tbSprite = b instanceof Sprite ? b : b.getComponent(Sprite) as Sprite;\r\n\r\n\t\t\tif (aSprite.layer > bSprite.layer) return 1\r\n\t\t\telse if (aSprite.layer < bSprite.layer) return -1\r\n\t\t\telse {\r\n\t\t\t\tif (aSprite.orderInLayer > bSprite.orderInLayer) return 1\r\n\t\t\t\tif (aSprite.orderInLayer < bSprite.orderInLayer) return -1\r\n\t\t\t}\r\n\t\t})\r\n\t\t.forEach((c:GameComponent) => { c.OnRender(); });\r\n}\r\n\r\n\r\nfunction onKeyDown(evt: any) {\r\n\tdir = { x: Direction.Idle, y: Direction.Idle };\r\n\tconst playerAnimation = player.getComponent(Animation) as Animation;\r\n\tconst playerSprite = player.getComponent(Sprite) as Sprite;\r\n\t//left\r\n\tif (evt.keyCode === 37) {\r\n\t\t// if (playerAnimation) {\r\n\t\t// \tplayerAnimation.setState(\"run-left\");\r\n\t\t// }\r\n\t\tdir.x = -1;\r\n\t\tplayerSprite.flip.x = true;\r\n\t}\r\n\t//right\r\n\tif (evt.keyCode === 39) {\r\n\t\t// if (playerAnimation) {\r\n\t\t// \tplayerAnimation.setState(\"run-right\");\r\n\t\t// }\r\n\t\tdir.x = 1;\r\n\t\tplayerSprite.flip.x = false;\r\n\t}\r\n\t//down\r\n\tif (evt.keyCode === 40) {\r\n\t\t// if (playerAnimation) {\r\n\t\t// \tplayerAnimation.setState(\"run-down\");\r\n\t\t// }\r\n\t\tdir.y = 1;\r\n\t}\r\n\t//up\r\n\tif (evt.keyCode === 38) {\r\n\t\t// if (playerAnimation) {\r\n\t\t// \tplayerAnimation.setState(\"run-up\");\r\n\t\t// }\r\n\t\tdir.y = -1;\r\n\t}\r\n\t// onMoveTo(dir);\r\n}\r\n\r\nfunction onKeyUp() {\r\n\tconst playerAnimation = player.getComponent(Animation) as Animation;\r\n\tconst playerSprite = player.getComponent(Sprite) as Sprite;\r\n\r\n\tif (dir.x === 0) {\r\n\t\tif (playerAnimation.currentState.name === \"run-down\") {\r\n\t\t\tplayerAnimation.setState(\"idle-down\");\r\n\t\t} else if (playerAnimation.currentState.name === \"run-up\") {\r\n\t\t\tplayerAnimation.setState(\"idle-up\");\r\n\t\t}\r\n\t}\r\n\telse if (dir.y === 0) {\r\n\t\tif (playerAnimation.currentState.name === \"run-right\") {\r\n\t\t\tplayerAnimation.setState(\"idle-right\");\r\n\t\t} else if (playerAnimation.currentState.name === \"run-left\") {\r\n\t\t\tplayerAnimation.setState(\"idle-left\");\r\n\t\t}\r\n\t}\r\n\r\n\tdir  = { x: Direction.Idle, y: Direction.Idle };\r\n}\r\n\r\n\r\nwindow.addEventListener(\"keydown\", onKeyDown);\r\nwindow.addEventListener(\"keyup\", onKeyUp);"],"sourceRoot":""}